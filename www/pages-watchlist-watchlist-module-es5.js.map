{"version":3,"sources":["webpack:///src/app/pages/watchlist/watchlist.module.ts","webpack:///src/app/pages/watchlist/watchlist.page.ts","webpack:///src/app/pages/watchlist/double-tap.directive.ts","webpack:///src/app/pages/watchlist/watchlist.page.scss","webpack:///src/app/pages/watchlist/buy-sell/buy-sell.page.scss","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/pages/watchlist/watchlist-routing.module.ts","webpack:///src/app/pages/watchlist/watchlist.page.html","webpack:///src/app/pages/watchlist/buy-sell/buy-sell.page.ts","webpack:///src/app/pages/watchlist/buy-sell/buy-sell.page.html"],"names":["WatchlistPageModule","imports","declarations","WatchlistPage","modalController","watchlistService","actionSheetController","stockService","userService","toastCtrl","subscribedSockets","dataLoaded","selectedWatchlist","isSimualted","spinner","getWatchlists","getSettings","subscribe","r","datatype","data","getSimulatedWatchlists","watchlists","console","log","moveInArray","updateLtp","getRealtimeWatchlists","wId","sId","wIndex","indexOf","find","w","_id","watchlist","sIndex","stockIds","s","id","isLoaded","startStock","unsubscribeFromSockets","selectedWatchlistId","forEach","i","started","socketSub","listen","res","ltp","price","push","unsubscribe","splice","length","create","component","componentProps","modal","onDidDismiss","then","d","present","isEdit","stock","selectedStock","watchlistEditActionSheet","watchlistTitleActionSheet","header","buttons","text","icon","handler","openManageWatchlists","role","actionSheet","openWatchlistModal","deleteWatchlist","presentSuccessToast","message","duration","color","toast","tab","detail","sort","sortByPosition","a","b","position","selector","template","DoubleTapDirective","gestureCtrl","el","eventHandler","lastOnStart","DOUBLE_CLICK_THRESHOLD","gesture","gestureName","nativeElement","threshold","onStart","enable","now","Date","Math","abs","emit","eventType","SharedModule","exports","routes","path","children","WatchlistPageRoutingModule","forChild","BuySellPage","route","router","quantity","capitalAtRisk","limitVal","approxMargin","leverage","risk","transactionSpinner","accountDetails","availableBalance","account","currentBalance","queryParams","isBuy","params","getStock","c","company","buySellForm","valueChanges","parseFloat","stopLoss","navigate","event","value","order","target","buy","sell","presentErrorToast","cId","watchlistId","availableBal","pending","stockId","volume","stoploss","orderStockLimitBuy","err","orderStockMarketBuy","orderStockLimitSell","orderStockMarketSell"],"mappings":"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","file":"pages-watchlist-watchlist-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WatchlistPageRoutingModule } from './watchlist-routing.module';\n\nimport { WatchlistPage } from './watchlist.page';\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { BuySellPage } from './buy-sell/buy-sell.page';\nimport { DoubleTapDirective } from './double-tap.directive';\nimport { BrowserModule } from '@angular/platform-browser';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WatchlistPageRoutingModule,\n    SuperTabsModule,\n    SharedModule,\n  ],\n  declarations: [WatchlistPage, BuySellPage,DoubleTapDirective]\n})\nexport class WatchlistPageModule {}\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActionSheetController, ModalController, ToastController } from \"@ionic/angular\";\nimport { Subscription } from \"rxjs\";\nimport { BuySellModalPopupComponent } from \"src/app/modals/buy-sell-modal-popup/buy-sell-modal-popup.component\";\nimport { ModalEditWatchlistsComponent } from \"src/app/modals/modal-edit-watchlists/modal-edit-watchlists.component\";\nimport { ModalWatchlistCeComponent } from \"src/app/modals/modal-watchlist-ce/modal-watchlist-ce.component\";\nimport { ModalWatchlistComponent } from \"src/app/modals/modal-watchlist/modal-watchlist.component\";\nimport { Stock } from \"src/app/models/stock.model\";\nimport { Watchlist } from \"src/app/models/watchlist.model\";\nimport { StockService } from \"src/app/services/stock.service\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { WatchlistService } from \"src/app/services/watchlist.service\";\n\n@Component({\n\tselector: \"app-watchlist\",\n\ttemplateUrl: \"./watchlist.page.html\",\n\tstyleUrls: [\"./watchlist.page.scss\"],\n})\nexport class WatchlistPage implements OnInit, OnDestroy {\n\twatchlists: Watchlist[];\n\tselectedWatchlist: number;\n\tselectedWatchlistId: string;\n\tdataLoaded: boolean;\n\tisSimualted: boolean;\n\tspinners: string[];\n\tsubscribedSockets: Subscription[] = [];\n\tspinner: boolean\n\tconstructor(private modalController: ModalController, private watchlistService: WatchlistService, private actionSheetController: ActionSheetController, private stockService: StockService, private userService: UserService, private toastCtrl: ToastController) {}\n\n\tngOnInit() {\n\t\tthis.dataLoaded = false;\n\t\tthis.selectedWatchlist = 0;\n\t\tthis.isSimualted = true;\n\t}\n\n\tionViewDidEnter() {\n\t\tthis.spinner = true\n\t\tthis.getWatchlists();\n\t}\n\n\tasync getWatchlists(spinner?: boolean) {\n\t\tif(spinner == true) this.spinner = true;\n\t\tthis.userService.getSettings().subscribe((r: any) => {\n\t\t\tconst datatype = r.data.datatype;\n\t\t\tif (datatype == \"simulated\")\n\t\t\t\tthis.watchlistService.getSimulatedWatchlists().subscribe((r: any) => {\n\t\t\t\t\tthis.isSimualted = true;\n\t\t\t\t\tthis.watchlists = [];\n\t\t\t\t\tthis.watchlists = r.data;\n\t\t\t\t\tconsole.log('simulated',r)\n\t\t\t\t\tthis.moveInArray();\n\t\t\t\t\tthis.updateLtp().finally(()=>{\n\t\t\t\t\t\tthis.dataLoaded = true\n\t\t\t\t\t\tthis.spinner = false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tif (datatype == \"realtime\")\n\t\t\t\tthis.watchlistService.getRealtimeWatchlists().subscribe((r: any) => {\n\t\t\t\t\tthis.isSimualted = false;\n\t\t\t\t\tthis.watchlists = [];\n\t\t\t\t\tthis.watchlists = r.data;\n\t\t\t\t\tconsole.log('realTime',r)\n\t\t\t\t\tthis.moveInArray();\n\t\t\t\t\tthis.updateLtp().finally(()=>{\n\t\t\t\t\t\tthis.dataLoaded = true\n\t\t\t\t\t\tthis.spinner = false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t}\n\n\tsubscribeToStockSocket(wId, sId) {\n\t\tconst wIndex = this.watchlists.indexOf(this.watchlists.find(w => w._id = wId))\n\t\tconst watchlist = this.watchlists[wIndex]\n\t\tconst sIndex = watchlist.stockIds.indexOf(watchlist.stockIds.find(s => s.id == sId))\n\t\tthis.watchlists[wIndex].stockIds[sIndex].isLoaded = false\n\t\tthis.stockService.startStock(sId, wId).subscribe((r) => this.getWatchlists());\n\t}\n\n\tasync updateLtp() {\n\t\tthis.unsubscribeFromSockets();\n\t\tthis.selectedWatchlistId = this.watchlists[this.selectedWatchlist]?._id;\n\t\tthis.watchlists.forEach((w) => {\n\t\t\tw.stockIds.forEach((s, i) => {\n\t\t\t\tif (s.started) {\n\t\t\t\t\tconst socketSub: Subscription = this.stockService.listen(`${s.id}-${w._id}`).subscribe((res: any) => {\n\t\t\t\t\t\ts.ltp = res[0].price;\n\t\t\t\t\t});\n\t\t\t\t\tthis.subscribedSockets.push(socketSub);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tunsubscribeFromSockets() {\n\t\tthis.subscribedSockets.forEach((s) => {\n\t\t\ts.unsubscribe();\n\t\t});\n\t\tthis.subscribedSockets.splice(0, this.subscribedSockets.length);\n\t}\n\n\tasync openCompaniesModal(id) {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: ModalWatchlistComponent,\n\t\t\tcomponentProps: { selectedWatchlist: id },\n\t\t});\n\t\tmodal.onDidDismiss().then((d) => {\n\t\t\tconsole.log(d);\n\t\t\tif (!this.isSimualted) d.data == true && this.getWatchlists(true);\n\t\t});\n\t\treturn await modal.present();\n\t}\n\n\tasync openWatchlistModal(isEdit: boolean) {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: ModalWatchlistCeComponent,\n\t\t\tcomponentProps: { isEdit, selectedWatchlist: this.watchlists[this.selectedWatchlist] },\n\t\t});\n\t\tmodal.onDidDismiss().then((d) => {\n\t\t\tif (!this.isSimualted) d.data == true && this.getWatchlists(true);\n\t\t});\n\t\treturn await modal.present();\n\t}\n\n\tasync openBuySellModal(stock: Stock) {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: BuySellModalPopupComponent,\n\t\t\tcomponentProps: { selectedStock: stock, selectedWatchlistId: this.selectedWatchlistId },\n\t\t});\n\t\treturn await modal.present();\n\t}\n\n\tasync openManageWatchlists() {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: ModalEditWatchlistsComponent,\n\t\t});\n\t\tmodal.onDidDismiss().then((d) => {\n\t\t\tif (!this.isSimualted) d.data == true && this.getWatchlists(true);\n\t\t});\n\t\treturn await modal.present();\n\t}\n\n\tonWatchlistTabClick() {\n\t\tthis.watchlistEditActionSheet();\n\t}\n\n\tonWatchlistTitleClick() {\n\t\tthis.watchlistTitleActionSheet();\n\t}\n\n\tasync watchlistTitleActionSheet() {\n\t\tconst actionSheet = await this.actionSheetController.create({\n\t\t\theader: \"Watchlist control panel\",\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: \"Manage\",\n\t\t\t\t\ticon: \"cog\",\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.openManageWatchlists();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: \"Cancel\",\n\t\t\t\t\ticon: \"close\",\n\t\t\t\t\trole: \"cancel\",\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tawait actionSheet.present();\n\t}\n\n\tasync watchlistEditActionSheet() {\n\t\tconst actionSheet = await this.actionSheetController.create({\n\t\t\theader: \"Watchlist manage panel\",\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: \"Edit\",\n\t\t\t\t\ticon: \"create-outline\",\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.openWatchlistModal(true);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: \"Delete\",\n\t\t\t\t\trole: \"destructive\",\n\t\t\t\t\ticon: \"trash-outline\",\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.watchlistService.deleteWatchlist(this.watchlists[this.selectedWatchlist]._id).subscribe((r) => {\n\t\t\t\t\t\t\tconsole.log(\"delete\", r)\n\t\t\t\t\t\t\tthis.getWatchlists(true).then(()=>{\n\t\t\t\t\t\t\t\tthis.presentSuccessToast('Watchlist successfuly deleted')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttext: \"Cancel\",\n\t\t\t\t\ticon: \"close\",\n\t\t\t\t\trole: \"cancel\",\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tawait actionSheet.present();\n\t}\n\t\n\tasync presentSuccessToast(message) {\n\t\tconst toast = await this.toastCtrl.create({\n\t\t\tmessage,\n\t\t\tduration: 2500,\n\t\t\tcolor: \"success\",\n\t\t});\n\t\tawait toast.present();\n\t}\n\n\tremoveWatchlist(id: string) {\n\t\tthis.watchlistService.deleteWatchlist(id);\n\t}\n\n\ttabIndex(tab) {\n\t\tif (typeof tab == \"number\") this.selectedWatchlist = tab;\n\t\telse this.selectedWatchlist = tab.detail;\n\t\tthis.selectedWatchlistId = this.watchlists[this.selectedWatchlist]._id;\n\t\tthis.updateLtp().finally(()=>{\n\t\t\tthis.dataLoaded = true\n\t\t\tthis.spinner = false\n\t\t});;\n\t}\n\n\tmoveInArray() {\n\t\tthis.watchlists.sort(this.sortByPosition);\n\t\tfor (let i = 0; i < this.watchlists.length; i++) {\n\t\t\tthis.watchlists[i].stockIds.sort(this.sortByPosition);\n\t\t}\n\t}\n\n\tsortByPosition(a, b) {\n\t\tif (a.position < b.position) return -1;\n\t\tif (a.position > b.position) return 1;\n\t\treturn 0;\n\t}\n\n\tionViewDidLeave() {\n\t\tthis.unsubscribeFromSockets();\n\t}\n\n\tngOnDestroy() {\n\t\tthis.unsubscribeFromSockets();\n\t}\n}\n","import {Directive, ElementRef, Input, OnInit, EventEmitter, AfterViewInit, Output} from '@angular/core';\nimport {Gesture, GestureController} from '@ionic/angular';\n\n\n@Directive({\n  selector: '[appDoubleTap]'\n})\nexport class DoubleTapDirective implements OnInit {\n  @Output() eventHandler: EventEmitter<any> = new EventEmitter<any>();\n  lastOnStart: number = 0\n  DOUBLE_CLICK_THRESHOLD: number = 500\n  \n  constructor(private gestureCtrl: GestureController, private el: ElementRef){}\n  \n  ngOnInit() {\n    const gesture = this.gestureCtrl.create({\n      gestureName: 'double-tap',\n      el: this.el.nativeElement,\n      threshold: 0,\n      onStart: () => { this.onStart() }\n    });\n  \n    gesture.enable();\n  }\n  \n  onStart() {\n    const now = Date.now();\n  \n    if (Math.abs(now - this.lastOnStart) <= this.DOUBLE_CLICK_THRESHOLD) {\n      this.eventHandler.emit({ eventType: 'render' });\n      this.lastOnStart = 0;\n    } else {\n      this.lastOnStart = now;\n    }\n  }\n}\n","export default \".logo {\\n  height: 70px;\\n  width: 70px;\\n  padding-right: 10px;\\n}\\n\\nion-title {\\n  color: black;\\n}\\n\\nion-content div {\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  text-align: center;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n@media screen and (max-width: 360px) {\\n  ion-title {\\n    font-size: 14px !important;\\n  }\\n\\n  ion-label, h3, p {\\n    font-size: 12px !important;\\n  }\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n  ion-title {\\n    color: white;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvd2F0Y2hsaXN0L3dhdGNobGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0U7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDQTtFQUNFO0lBQ0UsMEJBQUE7RUFFRjs7RUFBQTtJQUNFLDBCQUFBO0VBR0Y7QUFDRjs7QUFEQTtFQUNFO0lBQ0UsWUFBQTtFQUdGO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy93YXRjaGxpc3Qvd2F0Y2hsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dve1xuICBoZWlnaHQ6IDcwcHg7XG4gIHdpZHRoOiA3MHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xufVxuaW9uLXRpdGxle1xuICBjb2xvcjpibGFjaztcbn1cbmlvbi1jb250ZW50IHtcbiAgZGl2IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxufVxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgaW9uLXRpdGxle1xuICAgIGZvbnQtc2l6ZToxNHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgaW9uLWxhYmVsLCBoMywgcHtcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbiAgfVxufVxuQG1lZGlhKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XG4gIGlvbi10aXRsZXtcbiAgICBjb2xvcjp3aGl0ZTtcbiAgfVxufSJdfQ== */\";","export default \"@import url(\\\"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap\\\");\\nbody {\\n  font-family: Roboto;\\n}\\nion-card-header {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\nion-card-title {\\n  font-size: 15px;\\n}\\nion-card-subtitle {\\n  margin-top: 0;\\n  font-size: 14px;\\n  color: #ababab;\\n  margin-bottom: 0;\\n}\\n.card-input {\\n  border: 1px solid rgba(184, 184, 184, 0.69);\\n  color: black;\\n  padding: 0 11px !important;\\n  font-size: 18px;\\n}\\n.bs-radio-group {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.radios {\\n  list-style-type: none;\\n  margin: 25px 0 0 0;\\n  padding: 0;\\n}\\n.bs-radio-group h5 {\\n  margin: 0 5px;\\n}\\nul {\\n  margin: 0 !important;\\n}\\n.radios li {\\n  float: right;\\n  text-align: center;\\n  width: 90px;\\n  height: 30px;\\n  position: relative;\\n}\\n.radios label, .radios input[type=radio] {\\n  display: block;\\n  position: absolute;\\n  margin-left: 10px;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n.radios input[type=radio] {\\n  opacity: 0.011;\\n  z-index: 100;\\n  margin-left: 10px;\\n}\\n.radios input[type=radio]:checked + label {\\n  border: 1px solid rgba(255, 255, 255, 0);\\n  border-radius: 5px;\\n  margin-left: 10px;\\n  color: white;\\n}\\n.radios input[type=radio].red:checked + label {\\n  background-color: #EB455A;\\n}\\n.radios input[type=radio].blue:checked + label {\\n  background-color: #5360fc;\\n}\\n.radios label {\\n  padding: 5px !important;\\n  border-radius: 5px;\\n  border: 1px solid #CCC;\\n  font-size: 14px;\\n  z-index: 90;\\n}\\nhr {\\n  border-top: 1px solid rgba(167, 167, 167, 0.5) !important;\\n  height: 1px !important;\\n  width: 100% !important;\\n  display: block !important;\\n  font-size: 2em !important;\\n  opacity: 1 !important;\\n  visibility: visible !important;\\n}\\n.footer-button {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n}\\nion-button.footer-button {\\n  width: 100%;\\n}\\n.disabled-input {\\n  background-color: #dedede;\\n  color: #353535;\\n}\\n@media (prefers-color-scheme: dark) {\\n  ion-input {\\n    color: white;\\n  }\\n\\n  .disabled-input {\\n    background-color: #484848;\\n    color: #bdbdbd;\\n  }\\n\\n  ion-title {\\n    color: white;\\n  }\\n}\\n@media screen and (max-width: 360px) {\\n  ion-title, ion-card-title {\\n    font-size: 15px !important;\\n  }\\n\\n  ion-label, ion-card-subtitle, ion-select-option, ion-select, p, h5 {\\n    font-size: 13px !important;\\n  }\\n\\n  .radios label {\\n    padding: 5px !important;\\n    font-size: 13px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvd2F0Y2hsaXN0L2J1eS1zZWxsL2J1eS1zZWxsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBUSx3RkFBQTtBQUNSO0VBQ0ksbUJBQUE7QUFDSjtBQUNBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtBQUVKO0FBQUE7RUFDSSxlQUFBO0FBR0o7QUFEQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FBSUo7QUFGQTtFQUNJLDJDQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0VBQ0EsZUFBQTtBQUtKO0FBSEE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0FBTUo7QUFKQTtFQUNJLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FBT0o7QUFMQTtFQUNJLGFBQUE7QUFRSjtBQU5BO0VBQ0ksb0JBQUE7QUFTSjtBQVBBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQVVKO0FBUkE7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUFXSjtBQVRBO0VBQ0ksY0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQVlKO0FBVkE7RUFDSSx3Q0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBYUo7QUFYQTtFQUNJLHlCQUFBO0FBY0o7QUFaQTtFQUNJLHlCQUFBO0FBZUo7QUFiQTtFQUNJLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBZ0JKO0FBWEE7RUFDSSx5REFBQTtFQUNBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSw4QkFBQTtBQWNKO0FBWkE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQWVKO0FBYkE7RUFDSSxXQUFBO0FBZ0JKO0FBZEE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFpQko7QUFmQTtFQUNJO0lBQ0ksWUFBQTtFQWtCTjs7RUFmRTtJQUNJLHlCQUFBO0lBQ0EsY0FBQTtFQWtCTjs7RUFoQkU7SUFDSSxZQUFBO0VBbUJOO0FBQ0Y7QUFqQkE7RUFDSTtJQUNFLDBCQUFBO0VBbUJKOztFQWpCRTtJQUNFLDBCQUFBO0VBb0JKOztFQWxCRTtJQUNJLHVCQUFBO0lBQ0EsZUFBQTtFQXFCTjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvd2F0Y2hsaXN0L2J1eS1zZWxsL2J1eS1zZWxsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVJvYm90bzp3Z2h0QDQwMDs1MDAmZGlzcGxheT1zd2FwJyk7XG5ib2R5e1xuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG87XG59XG5pb24tY2FyZC1oZWFkZXJ7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5pb24tY2FyZC10aXRsZXtcbiAgICBmb250LXNpemU6IDE1cHg7XG59XG5pb24tY2FyZC1zdWJ0aXRsZXtcbiAgICBtYXJnaW4tdG9wOiAwO1xuICAgIGZvbnQtc2l6ZToxNHB4O1xuICAgIGNvbG9yOiNhYmFiYWI7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbn1cbi5jYXJkLWlucHV0e1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigxODQsIDE4NCwgMTg0LCAwLjY5KTtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgcGFkZGluZzogMCAxMXB4ICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOjE4cHg7XG59XG4uYnMtcmFkaW8tZ3JvdXB7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG4ucmFkaW9ze1xuICAgIGxpc3Qtc3R5bGUtdHlwZTpub25lO1xuICAgIG1hcmdpbjoyNXB4IDAgMCAwO1xuICAgIHBhZGRpbmc6MDtcbn1cbi5icy1yYWRpby1ncm91cCBoNXtcbiAgICBtYXJnaW46IDAgNXB4O1xufVxudWx7XG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG59XG4ucmFkaW9zIGxpIHtcbiAgICBmbG9hdDpyaWdodDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgd2lkdGg6OTBweDtcbiAgICBoZWlnaHQ6MzBweDtcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbn1cbi5yYWRpb3MgbGFiZWwsIC5yYWRpb3MgaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcbiAgICBkaXNwbGF5OmJsb2NrO1xuICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIHRvcDowO1xuICAgIGxlZnQ6MDtcbiAgICByaWdodDowO1xuICAgIGJvdHRvbTowO1xufVxuLnJhZGlvcyBpbnB1dFt0eXBlPVwicmFkaW9cIl17XG4gICAgb3BhY2l0eTowLjAxMTtcbiAgICB6LWluZGV4OjEwMDtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbi5yYWRpb3MgaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQgKyBsYWJlbCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDI1NSwgMjU1LCAyNTUsIDApOyBcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgY29sb3I6d2hpdGU7XG59XG4ucmFkaW9zIGlucHV0W3R5cGU9XCJyYWRpb1wiXS5yZWQ6Y2hlY2tlZCArIGxhYmVsIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUI0NTVBO1xufVxuLnJhZGlvcyBpbnB1dFt0eXBlPVwicmFkaW9cIl0uYmx1ZTpjaGVja2VkICsgbGFiZWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6IzUzNjBmYztcbn1cbi5yYWRpb3MgbGFiZWwgeyAgICBcbiAgICBwYWRkaW5nOjVweCAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBib3JkZXI6MXB4IHNvbGlkICNDQ0M7IFxuICAgIGZvbnQtc2l6ZToxNHB4O1xuICAgIHotaW5kZXg6OTA7XG59XG4vLyAucmFkaW9zIGxhYmVsOmhvdmVyIHtcbi8vICAgICBiYWNrZ3JvdW5kOiNEREQ7XG4vLyB9XG5ociB7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMTY3LCAxNjcsIDE2NywgMC41KSAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogMXB4ICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMmVtICFpbXBvcnRhbnQ7XG4gICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xuICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbn1cbi5mb290ZXItYnV0dG9ue1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbmlvbi1idXR0b24uZm9vdGVyLWJ1dHRvbntcbiAgICB3aWR0aDogMTAwJTtcbn1cbi5kaXNhYmxlZC1pbnB1dHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNkZWRlZGU7XG4gICAgY29sb3I6ICMzNTM1MzU7XG59XG5AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XG4gICAgaW9uLWlucHV0e1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmRpc2FibGVkLWlucHV0e1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiM0ODQ4NDg7XG4gICAgICAgIGNvbG9yOiAjYmRiZGJkO1xuICAgIH1cbiAgICBpb24tdGl0bGV7XG4gICAgICAgIGNvbG9yOndoaXRlO1xuICAgIH1cbn1cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDM2MHB4KSB7XG4gICAgaW9uLXRpdGxlLCBpb24tY2FyZC10aXRsZXtcbiAgICAgIGZvbnQtc2l6ZToxNXB4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIGlvbi1sYWJlbCwgaW9uLWNhcmQtc3VidGl0bGUsIGlvbi1zZWxlY3Qtb3B0aW9uLCBpb24tc2VsZWN0LCBwLCBoNXtcbiAgICAgIGZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAucmFkaW9zIGxhYmVsIHsgICAgXG4gICAgICAgIHBhZGRpbmc6NXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZToxM3B4O1xuICAgIH1cbn0iXX0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n    declarations: [],\n    exports: [],\n    imports: [\n        CommonModule\n    ]\n})\nexport class SharedModule {}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BuySellPage } from './buy-sell/buy-sell.page';\n\nimport { WatchlistPage } from './watchlist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WatchlistPage,\n    children:[\n    ]\n  },\n\n  {\n    path:'buy-sell/:id/:wId', \n    component: BuySellPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WatchlistPageRoutingModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n\\t<ion-toolbar style=\\\"display: flex; align-items: center; justify-content: center;\\\">\\n\\t\\t<ion-title *ngIf=\\\"!isSimualted\\\" (click)=\\\"onWatchlistTitleClick()\\\">\\n\\t\\t\\t<div style=\\\"display: flex; align-items: center; justify-content: center;\\\">\\n\\t\\t\\t\\t<span>Watchlist</span>\\n\\t\\t\\t\\t<ion-spinner name=\\\"lines-small\\\" *ngIf=\\\"spinner\\\"></ion-spinner>\\n\\t\\t\\t</div>\\n\\t\\t</ion-title>\\n\\t\\t<ion-title *ngIf=\\\"isSimualted\\\">\\n\\t\\t\\t<div style=\\\"display: flex; align-items: center; justify-content: center;\\\">\\n\\t\\t\\t\\t<span>Watchlist</span>\\n\\t\\t\\t\\t<ion-spinner name=\\\"lines-small\\\" *ngIf=\\\"spinner\\\"></ion-spinner>\\n\\t\\t\\t</div>\\n\\t\\t</ion-title>\\n\\t\\t<ion-img slot=\\\"end\\\" src=\\\"/assets/logo_no_back.png\\\" class=\\\"logo\\\"></ion-img>\\n\\t</ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\t<super-tabs *ngIf=\\\"!dataLoaded\\\">\\n\\t\\t<super-tabs-toolbar slot=\\\"top\\\" color=\\\"translucent\\\">\\n\\t\\t\\t<super-tab-button>\\n\\t\\t\\t\\t<ion-label style=\\\"width: 100%; display: flex; flex-direction: row; justify-content: center; align-items: center\\\">\\n\\t\\t\\t\\t\\t<ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t</super-tab-button>\\n\\t\\t</super-tabs-toolbar>\\n\\t\\t<super-tabs-container>\\n\\t\\t\\t<super-tab>\\n\\t\\t\\t\\t<ion-list style=\\\"display: flex; flex-direction: column;padding-top:5px\\\">\\n\\t\\t\\t\\t\\t<ion-item *ngFor=\\\"let item of [].constructor(9)\\\" class=\\\"ion-no-padding\\\" style=\\\"width: 100%; height: 66px;\\\">\\n\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-padding-start\\\" style=\\\"display: flex; flex-direction: column; align-items: flex-start; justify-content: center; height: 12px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-skeleton-text animated style=\\\"width: 40%; padding:11px\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t<ion-label style=\\\"display: flex; flex-direction: column; align-items: flex-end\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label style=\\\"display: flex; flex-direction: row; justify-content: flex-end; width: 100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-skeleton-text animated style=\\\"width: 20%; margin-right: 10px\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-skeleton-text animated style=\\\"width: 20%\\\"></ion-skeleton-text>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-list>\\n\\t\\t\\t</super-tab>\\n\\t\\t</super-tabs-container>\\n\\t</super-tabs>\\n\\t<super-tabs *ngIf=\\\"watchlists?.length > 0 && dataLoaded\\\">\\n\\t\\t<super-tabs-toolbar *ngIf=\\\"!isSimualted\\\" slot=\\\"top\\\" color=\\\"translucent\\\" [scrollable]=\\\"watchlists?.length > 4\\\" [scrollablePadding]=\\\"watchlists?.length < 3\\\">\\n\\t\\t\\t<super-tab-button *ngFor=\\\"let w of watchlists; let i = index\\\" (click)=\\\"tabIndex(i)\\\" appDoubleTap (eventHandler)=\\\"onWatchlistTabClick()\\\">\\n\\t\\t\\t\\t<ion-label>{{w.name?.length > 8 ? w.name.substring(0,8) + '...' : w.name}}</ion-label>\\n\\t\\t\\t</super-tab-button>\\n\\t\\t</super-tabs-toolbar>\\n\\t\\t<super-tabs-toolbar *ngIf=\\\"isSimualted\\\" slot=\\\"top\\\" color=\\\"translucent\\\" scrollablePadding>\\n\\t\\t\\t<super-tab-button *ngFor=\\\"let w of watchlists; let i = index\\\">\\n\\t\\t\\t\\t<ion-label>{{w.name?.length > 8 ? w.name.substring(0,8) + '...' : w.name}}</ion-label>\\n\\t\\t\\t</super-tab-button>\\n\\t\\t</super-tabs-toolbar>\\n\\t\\t<super-tabs-container (activeTabIndexChange)=\\\"tabIndex($event)\\\">\\n\\t\\t\\t<super-tab *ngFor=\\\"let w of watchlists\\\">\\n\\t\\t\\t\\t<ion-list style=\\\"padding-bottom: 75px\\\">\\n\\t\\t\\t\\t\\t<div *ngFor=\\\"let c of w.stockIds\\\">\\n\\t\\t\\t\\t\\t\\t<ion-item style=\\\"width: 100%; height: 66px;\\\" class=\\\"ion-no-padding\\\" *ngIf=\\\"c.started && c.isLoaded\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-padding-start\\\" (click)=\\\"openBuySellModal(c)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 style=\\\"padding:12px 0\\\">{{c.name}}</h3>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-margin-start ion-text-right\\\" *ngIf=\\\"+c.ltp - +c.ldp >= 0 && c.started\\\" (click)=\\\"openBuySellModal(c)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-text color=\\\"success\\\"><h3>{{c.ltp | number:'1.1-2'}}</h3></ion-text>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>+{{+c.ltp - +c.ldp | number:'1.1-2'}} (+{{(+c.ltp - +c.ldp) / +c.ldp | percent:'1.1-2'}})</p>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-margin-start ion-text-right\\\" *ngIf=\\\"+c.ltp - +c.ldp < 0 && c.started\\\" (click)=\\\"openBuySellModal(c)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-text color=\\\"danger\\\"><h3>{{c.ltp | number:'1.1-2'}}</h3></ion-text>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>-{{+c.ltp - +c.ldp | number:'1.1-2'}} (-{{(+c.ltp - +c.ldp) / +c.ldp | percent:'1.1-2'}})</p>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t<ion-item style=\\\"width: 100%; height: 66px;\\\" class=\\\"ion-no-padding\\\" *ngIf=\\\"!c.started && c.isLoaded\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-padding-start\\\" (click)=\\\"openBuySellModal(c)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 style=\\\"padding:12px 0\\\">{{c.name}}</h3>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label (click)=\\\"subscribeToStockSocket(w._id, c.id)\\\" class=\\\"ion-margin-start ion-text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"play-outline\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t<ion-item class=\\\"ion-no-padding\\\" style=\\\"width: 100%; height: 66px;\\\" *ngIf=\\\"!c.started && !c.isLoaded\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-padding-start\\\" (click)=\\\"openBuySellModal(c)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 style=\\\"padding:12px 0\\\">{{c.name}}</h3>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label class=\\\"ion-margin-start ion-text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-spinner name=\\\"lines-small\\\"></ion-spinner>\\n\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</ion-list>\\n\\t\\t\\t</super-tab>\\n\\t\\t</super-tabs-container>\\n\\t</super-tabs>\\n\\t<ion-content padding *ngIf=\\\"watchlists?.length == 0 && dataLoaded\\\">\\n\\t\\t<div>\\n\\t\\t\\t<h6 class=\\\"gray\\\">\\n\\t\\t\\t\\tGo on and create your personal watchlist <br />\\n\\t\\t\\t\\tby pressing 'Watchlist' in the toolbar\\n\\t\\t\\t</h6>\\n\\t\\t</div>\\n\\t</ion-content>\\n</ion-content>\\n<ion-fab *ngIf=\\\"!isSimualted && watchlists.length > 0\\\" horizontal=\\\"end\\\" vertical=\\\"bottom\\\" style=\\\"position: absolute; bottom: 10px; right: 10px\\\">\\n\\t<ion-fab-button (click)=\\\"openCompaniesModal(selectedWatchlistId)\\\">\\n\\t\\t<ion-icon name=\\\"add\\\"></ion-icon>\\n\\t</ion-fab-button>\\n</ion-fab>\\n\";","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { OrderService } from 'src/app/services/order.service';\nimport { StockService } from 'src/app/services/stock.service';\nimport { UserService } from 'src/app/services/user.service';\n@Component({\n  selector: 'app-buy-sell',\n  templateUrl: './buy-sell.page.html',\n  styleUrls: ['./buy-sell.page.scss'],\n})\nexport class BuySellPage implements OnInit, AfterViewInit {\n  isBuy: boolean\n  company: any\n  wId: string\n  price: number = 0\n  quantity: number = 0\n  availableBalance: number\n  capitalAtRisk: number = 0\n  limitVal: number = 0\n  approxMargin: number = 0\n  leverage: number = 0\n  risk: number = 0\n  transactionSpinner: boolean\n  @ViewChild('buySellForm') buySellForm: NgForm\n  @ViewChild('marketRadio') marketRadio\n  constructor(private route: ActivatedRoute, \n    private stockService: StockService,\n    private toastCtrl: ToastController,\n    private router: Router,\n    private userService: UserService) { }\n\n  ngOnInit(){\n    this.transactionSpinner = false\n  }\n  \n  ionViewDidEnter() {\n    this.userService.getSettings().subscribe((r:any) => {\n      this.leverage = r.data.leverage\n      this.risk = r.data.risk\n    })\n    this.userService.accountDetails().subscribe((res:any) => {\n      this.availableBalance = res.account.currentBalance\n    })\n    this.route.queryParams.subscribe(data => {\n      data.isBuy == 'true' ? this.isBuy = true : this.isBuy = false\n    })\n    this.route.params.subscribe(data => {\n      this.stockService.getStock(data.id).subscribe((c:any) => {\n        this.company = c.data\n        this.wId = data.wId\n        this.updateLtp()\n      })\n    })\n  }\n  ngAfterViewInit(){\n    this.buySellForm.valueChanges.subscribe(data => {\n      this.approxMargin = parseFloat(data.price) * data.quantity / this.leverage\n      this.capitalAtRisk = (data.quantity * Math.abs(data.stopLoss - data.price)) / 100\n      if((data.quantity == 0 && data.price == 0) || data.quantity == null || data.price == null){\n        this.capitalAtRisk = 0\n        this.approxMargin = 0\n      }\n    });\n  }\n  \n  updateLtp(){\n    this.stockService.listen(`${this.company?._id}-${this.wId}`).subscribe((res:any) => {\n      this.company.ltp = res[0].price\n    })\n  }\n\n  navigateToWatchlist(){\n    this.router.navigate(['home','watchlist'])\n  }\n  \n  changeType(event: any){\n    event.detail.value == 'true' ? this.isBuy = true : this.isBuy = false\n  }\n\n  onSubmit(){\n    this.transactionSpinner = true\n    const quantity = this.buySellForm.value.quantity\n    const price = this.buySellForm.value.price\n    const order = this.buySellForm.value.order\n    const stopLoss = this.buySellForm.value.stopLoss\n    const target = this.buySellForm.value.target\n    const risk = this.risk / 100 * this.availableBalance\n    if(quantity != '' && order != '' && price != '' && quantity > 0){\n      if(order == 'limit' && price > 0){\n        if(risk >= (price * quantity)){\n          this.isBuy \n            ?  this.buy(this.company._id, this.wId, quantity, stopLoss, target, order, this.availableBalance, +price)\n            :  this.sell(this.company._id, this.wId, quantity, stopLoss, target, order, this.availableBalance, +price)\n        } else {\n          this.transactionSpinner = false\n          this.presentErrorToast('Your price is higher than your risk.')\n        }\n      } else {\n        if(risk >= (price * quantity)){\n          this.isBuy \n            ?  this.buy(this.company._id, this.wId, quantity, stopLoss, target, order, this.availableBalance, +this.company.ltp)\n            :  this.sell(this.company._id, this.wId, quantity, stopLoss, target, order, this.availableBalance, +this.company.ltp)\n        } else {\n          this.transactionSpinner = false\n          this.presentErrorToast('Your price is higher than your risk.')\n        }\n      }\n    } else {\n      this.transactionSpinner = false\n      this.presentErrorToast('Something is missing.')\n    }\n  }\n\n  buy(cId: string, watchlistId: string,quantity: number, stopLoss: number, target: number, order: string, availableBal: number, price?: number){\n    if(availableBal >= price){\n      let company\n      this.stockService.getStock(cId).subscribe((c:any) => {\n        company = c.data\n        var pending\n        pending = {stockId: cId, watchlistId, volume: quantity, stoploss: stopLoss, target, price}\n        order == 'limit'\n        ? this.stockService.orderStockLimitBuy(pending).subscribe(()=>{},(err)=>{\n          this.transactionSpinner = false\n          this.presentErrorToast(err)\n        },()=>{\n          this.transactionSpinner = false\n          this.router.navigate(['home','orders'])\n        })\n        : this.stockService.orderStockMarketBuy(pending).subscribe(()=>{},(err)=>{\n          this.transactionSpinner = false\n          this.presentErrorToast(err)\n        },()=>{\n          this.transactionSpinner = false\n          this.router.navigate(['home','orders'])\n        })\n      })\n    } else {\n      this.transactionSpinner = false\n      this.presentErrorToast('You have insufficient balance.')\n    }\n  }\n  \n  sell(cId: string, watchlistId: string,quantity: number, stopLoss: number, target: number, order: string, availableBal: number, price?: number){\n    let company\n    this.stockService.getStock(cId).subscribe((c:any) => {\n      company = c.data\n      var pending\n      pending = {stockId: cId, watchlistId, volume: quantity, stoploss: stopLoss, target, price}\n      order == 'limit'\n      ? this.stockService.orderStockLimitSell(pending).subscribe(()=>{},(err)=>{\n        this.transactionSpinner = false\n        this.presentErrorToast(err)\n      },()=>{\n        this.transactionSpinner = false\n        this.router.navigate(['home','orders'])\n      })\n      : this.stockService.orderStockMarketSell(pending).subscribe(()=>{},(err)=>{\n        this.transactionSpinner = false\n        this.presentErrorToast(err)\n      },()=>{\n        this.transactionSpinner = false\n        this.router.navigate(['home','orders'])\n      })\n    })\n  }\n\n  async presentErrorToast(message) {\n    const toast = await this.toastCtrl.create({\n      message,\n      color: 'danger',\n      duration: 2500\n    });\n    toast.present();\n  }\n}\n","export default \"<ion-header translucent>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-back-button defaultHref=\\\"['home','watchlist']\\\" (click)=\\\"navigateToWatchlist()\\\"></ion-back-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title>{{company?.companyName}}</ion-title>\\n\\n\\t\\t<ion-buttons slot=\\\"end\\\">\\n\\t\\t\\t<ion-button>\\n\\t\\t\\t\\t<ion-select\\n\\t\\t\\t\\t\\tok-text=\\\"Okay\\\"\\n\\t\\t\\t\\t\\tcancel-text=\\\"Cancel\\\"\\n\\t\\t\\t\\t\\tvalue=\\\"{{isBuy ? 'true' : 'false'}}\\\"\\n\\t\\t\\t\\t\\t(ionChange)=\\\"changeType($event)\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-select-option value=\\\"true\\\">Buy</ion-select-option>\\n\\t\\t\\t\\t\\t<ion-select-option value=\\\"false\\\">Sell</ion-select-option>\\n\\t\\t\\t\\t</ion-select>\\n\\t\\t\\t</ion-button>\\n\\t\\t</ion-buttons>\\n\\t</ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\t<form #buySellForm=\\\"ngForm\\\" id=\\\"buySellForm\\\" form-directive>\\n\\t\\t<ion-card>\\n\\t\\t\\t<ion-grid>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-title>Quantity</ion-card-title>\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-subtitle>Lot: 1</ion-card-subtitle>\\n\\t\\t\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t\\t\\t<ion-input\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"card-input\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"quantity\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"quantity\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\trequired\\n\\t\\t\\t\\t\\t\\t\\t\\tmin=\\\"0\\\"\\n\\t\\t\\t\\t\\t\\t\\t></ion-input>\\n\\t\\t\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-title>Price</ion-card-title>\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-subtitle>Tick: 0.05</ion-card-subtitle>\\n\\t\\t\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t\\t\\t<ion-input\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"card-input\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"price\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"marketRadio.checked ? company?.ltp : limitVal\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'disabled-input':marketRadio.checked}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[required]=\\\"!marketRadio.checked\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[readonly]=\\\"marketRadio.checked\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tmin=\\\"0\\\"\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t</ion-input>\\n\\t\\t\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t</ion-grid>\\n\\t\\t</ion-card>\\n\\t\\t<ion-grid>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t\\t<ion-card-title>Stop-loss</ion-card-title>\\n\\t\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t\\t<ion-input type=\\\"number\\\" class=\\\"card-input\\\" name=\\\"stopLoss\\\" ngModel required min=\\\"0\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col size=\\\"6\\\">\\n\\t\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t\\t<ion-card-title>Target</ion-card-title>\\n\\t\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t\\t<ion-input type=\\\"number\\\" class=\\\"card-input\\\" name=\\\"target\\\" ngModel required min=\\\"0\\\"></ion-input>\\n\\t\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<hr />\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col class=\\\"bs-radio-group\\\">\\n\\t\\t\\t\\t\\t<ion-text><h5>Order</h5></ion-text>\\n\\t\\t\\t\\t\\t<ul class=\\\"radios\\\">\\n\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\t#marketRadio\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tslot=\\\"start\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"market\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"radio-market\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"order\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tchecked\\n\\t\\t\\t\\t\\t\\t\\t\\tngModel\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'red':!isBuy,'blue':isBuy}\\\"\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<label for=\\\"radio-market\\\">MARKET</label>\\n\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tslot=\\\"start\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"limit\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tid=\\\"radio-limit\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"order\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tngModel\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'red':!isBuy,'blue':isBuy}\\\"\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t\\t<label for=\\\"radio-limit\\\">LIMIT</label>\\n\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t\\t<hr />\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col size=\\\"6\\\" class=\\\"ion-text-left\\\">\\n\\t\\t\\t\\t\\t<ion-text><p>Approx. Margin:</p></ion-text>\\n\\t\\t\\t\\t\\t<ion-text><p>Available Balance:</p></ion-text>\\n\\t\\t\\t\\t\\t<ion-text><p>Capital at Risk:</p></ion-text>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col size=\\\"6\\\" class=\\\"ion-text-right\\\">\\n\\t\\t\\t\\t\\t<ion-text><p>{{approxMargin | number:'1.2'}}</p></ion-text>\\n\\t\\t\\t\\t\\t<ion-text><p>{{availableBalance | number:'1.2'}}</p></ion-text>\\n\\t\\t\\t\\t\\t<ion-text><p>{{capitalAtRisk | percent:'1.2'}}</p></ion-text>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</ion-grid>\\n\\t</form>\\n</ion-content>\\n<ion-footer>\\n\\t<ion-toolbar>\\n\\t\\t<ion-grid>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col class=\\\"footer\\\" *ngIf=\\\"isBuy\\\">\\n\\t\\t\\t\\t\\t<ion-button class=\\\"footer-button\\\" size=\\\"medium\\\" color=\\\"tertiary\\\" form=\\\"buySellForm\\\" (click)=\\\"onSubmit()\\\">\\n\\t\\t\\t\\t\\t\\tConfirm buy <ion-spinner name=\\\"lines-small\\\" *ngIf=\\\"transactionSpinner\\\"></ion-spinner>\\n\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col class=\\\"footer\\\" *ngIf=\\\"!isBuy\\\">\\n\\t\\t\\t\\t\\t<ion-button class=\\\"footer-button\\\" size=\\\"medium\\\" color=\\\"danger\\\" form=\\\"buySellForm\\\" (click)=\\\"onSubmit()\\\">\\n\\t\\t\\t\\t\\t\\tConfirm Sell <ion-spinner name=\\\"lines-small\\\" *ngIf=\\\"transactionSpinner\\\"></ion-spinner>\\n\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</ion-grid>\\n\\t</ion-toolbar>\\n</ion-footer>\\n\";"]}